## PaymentService
Main task of this service is processing payments. It's database is divided to 3 shards, each of them is
responsible for it's own peace of data. Area of responsibility is determined by payment sender's id.
Database migration is provided by *Flyway*. Currently service supports 2 migration modes:
- On Deploy - databases will be migrated automatically during service deployment process 
if `spring.flyway.enabled` property is set to `true`
- Pre Deploy - use gradle `migrateAllDatabaseShards` task

Api is generated by *Swagger OpenAPI Generator* and accessible by `/openapi` url in browser. You can regenerate it, 
executing gradle `openApiGenerate` task. OpenAPI document is `./openapi/payment.yml`. Openapi version is 3.0.0.

Specify `payment.service.payments.processing.non.async.threshold` property in properties file to determine parallel
or sequential payments processing for through the database shards. Value should be an integer. If input payment data 
array size exceeds it, interaction with databases will be executed asynchronously, otherwise sequentially.
 
If connection with database shard is lost, service stops to process requests, related to it, but starts a job for 
obtaining connection again. Until that moment all related to that shard payments will be ignored during processing, 
but queries to other shards in mixed requests will be free of runtime penalty. When connection established,
service returns to it's normal work.<br/>
You can determine frequency of crashed shard ping requests defining `payment.service.database.ping.period.in.sec` 
property as integer in seconds.